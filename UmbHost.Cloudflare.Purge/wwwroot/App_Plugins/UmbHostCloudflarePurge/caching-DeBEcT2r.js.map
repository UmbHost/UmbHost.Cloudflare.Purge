{"version":3,"file":"caching-DeBEcT2r.js","sources":["../../../Client/src/workspaces/caching.ts"],"sourcesContent":["import { LitElement, html, customElement, css, state, nothing } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\nimport { BrowserTtlOptionsResponse, V1Resource, ToggleBrowserCacheTtlData, ToggleAlwaysOnlineData, ToggleDevelopmentModeData, ToggleCachingLevelData, GetZonesResponse, GetCacheSettingsData } from \"../backend-api\"\r\nimport { UmbInputRadioButtonListElement, UmbInputToggleElement } from \"@umbraco-cms/backoffice/components\";\r\nimport { UmbChangeEvent } from \"@umbraco-cms/backoffice/event\";\r\n\r\n@customElement('umbhost-cloudflare-purge-settings-caching')\r\nexport default class UmbHostCloudflarePurgeCachingViewElement extends UmbElementMixin(LitElement) {\r\n\r\n\t@state()\r\n\tprivate firstLoad?: boolean = true;\r\n\r\n\t@state()\r\n\tprivate loading?: boolean = false;\r\n\r\n\t@state()\r\n\tprivate zones?: any[] = [];\r\n\r\n\t@state()\r\n\tprivate zoneId?: string = undefined;\r\n\r\n\t@state()\r\n\tprivate browserCacheTtlLoading?: boolean = false;\r\n\r\n\t@state()\r\n\tprivate alwaysOnlineLoading?: boolean = false;\r\n\r\n\t@state()\r\n\tprivate developerModeLoading?: boolean = false;\r\n\r\n\t@state()\r\n\tprivate cachingLevelLoading?: boolean = false;\r\n\r\n\t@state()\r\n\tprivate browserCacheTtlOptions: BrowserTtlOptionsResponse | undefined;\r\n\r\n\t@state()\r\n\tprivate browserCacheTtlValue: number | undefined;\r\n\r\n\t@state()\r\n\tprivate browserCacheTtlUpdated?: string | undefined;\r\n\r\n\t@state()\r\n\tprivate alwaysOnlineUpdated?: string | undefined;\r\n\r\n\t@state()\r\n\tprivate alwaysOnlineValue: boolean | undefined;\r\n\r\n\t@state()\r\n\tprivate developerModeUpdated?: string | undefined;\r\n\r\n\t@state()\r\n\tprivate developerModeValue: boolean | undefined;\r\n\r\n\t@state()\r\n\tprivate cachingLevelUpdated?: string | undefined;\r\n\r\n\t@state()\r\n\tprivate cachingLevelValue: string | undefined;\r\n\r\n\tprivate cachingLevelOptions = [\r\n\t\t{\r\n\t\t\t\"label\": this.localize.term(\"umbhostCloudflarePurge_cachinglevelbasic\"),\r\n\t\t\t\"value\": \"basic\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"label\": this.localize.term(\"umbhostCloudflarePurge_cachinglevelsimplified\"),\r\n\t\t\t\"value\": \"simplified\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"label\": this.localize.term(\"umbhostCloudflarePurge_cachinglevelaggressive\"),\r\n\t\t\t\"value\": \"aggressive\",\r\n\t\t}\r\n\t];\r\n\r\n\tupdated(changedProps: Map<string, any>) {\r\n\t\tsuper.updated(changedProps);\r\n\r\n\t\tif (changedProps.has('browserCacheTtlValue') && this.browserCacheTtlOptions) {\r\n\t\t\tconst value = this.browserCacheTtlValue;\r\n\t\t\tthis.browserCacheTtlOptions = this.browserCacheTtlOptions.map(option => ({\r\n\t\t\t\t...option,\r\n\t\t\t\tselected: option.value === value\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\r\n\t#onBrowserTtlSelect(event: Event) {\r\n\r\n\t\tthis.browserCacheTtlLoading = true;\r\n\t\tconst select = event.target as HTMLSelectElement;\r\n\t\tconst selectedOption = this.browserCacheTtlOptions?.find(option => option.value === Number(select.value));\r\n\t\tif (selectedOption) {\r\n\t\t\tconst ToggleBrowserCacheTtlData: ToggleBrowserCacheTtlData = {\r\n\t\t\t\tzoneId: this.zoneId,\r\n\t\t\t\trequestBody: {\r\n\t\t\t\t\tvalue: selectedOption.value\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tV1Resource.toggleBrowserCacheTtl(ToggleBrowserCacheTtlData).then((data) => {\r\n\t\t\t\tthis.browserCacheTtlValue = Number(data.value);\r\n\t\t\t\tthis.browserCacheTtlUpdated = data.modified_on ? new Date(data.modified_on).toLocaleString() : undefined;\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthis.browserCacheTtlLoading = false;\r\n\t\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t#onAlwaysOnlineToggle(event: CustomEvent & { target: UmbInputToggleElement }) {\r\n\t\tthis.alwaysOnlineLoading = true;\r\n\t\tconst checked = event.target.checked;\r\n\t\tconst ToggleAlwaysOnlineData: ToggleAlwaysOnlineData = {\r\n\t\t\tzoneId: this.zoneId,\r\n\t\t\trequestBody: {\r\n\t\t\t\tvalue: checked ? \"on\" : \"off\"\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tV1Resource.toggleAlwaysOnline(ToggleAlwaysOnlineData).then((data) => {\r\n\t\t\tthis.alwaysOnlineValue = data.value.toLowerCase() === \"on\" ? true : false;;\r\n\t\t\tthis.alwaysOnlineUpdated = data.modified_on ? new Date(data.modified_on).toLocaleString() : undefined;\r\n\t\t})\r\n\t\t.finally(() => {\r\n\t\t\tthis.alwaysOnlineLoading = false;\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t});\r\n\t}\r\n\r\n\t#onDeveloperModeToggle(event: CustomEvent & { target: UmbInputToggleElement }) {\r\n\t\tthis.developerModeLoading = true;\r\n\t\tconst checked = event.target.checked;\r\n\t\tconst ToggleDevelopmentModeData: ToggleDevelopmentModeData = {\r\n\t\t\tzoneId: this.zoneId,\r\n\t\t\trequestBody: {\r\n\t\t\t\tvalue: checked ? \"on\" : \"off\"\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tV1Resource.toggleDevelopmentMode(ToggleDevelopmentModeData).then((data) => {\r\n\t\t\tthis.developerModeValue = data.value.toLowerCase() === \"on\" ? true : false;\r\n\t\t\tthis.developerModeUpdated = data.modified_on ? new Date(data.modified_on).toLocaleString() : undefined;\r\n\t\t})\r\n\t\t.finally(() => {\r\n\t\t\tthis.developerModeLoading = false;\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t});\r\n\t}\r\n\r\n\t#onCachingLevelToggle(event: CustomEvent & { target: UmbInputRadioButtonListElement }) {\r\n\t\tthis.cachingLevelLoading = true;\r\n\t\tconst ToggleCachingLevelData: ToggleCachingLevelData = {\r\n\t\t\tzoneId: this.zoneId,\r\n\t\t\trequestBody: {\r\n\t\t\t\tvalue: event.target.value\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tV1Resource.toggleCachingLevel(ToggleCachingLevelData).then((data) => {\r\n\t\t\tthis.cachingLevelValue = data?.value.toLowerCase();\r\n\t\t\tthis.cachingLevelUpdated = data.modified_on ? new Date(data.modified_on).toLocaleString() : undefined;\r\n\t\t})\r\n\t\t.finally(() => {\r\n\t\t\tthis.cachingLevelLoading = false;\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t});\r\n\t}\r\n\r\n\tasync #getZoneSettings(event: Event) {\r\n\t\t\ttry {\r\n\t\t\t\tconst select = event.target as HTMLSelectElement;\r\n\t\t\tif (select.value) {\r\n\t\t\tthis.firstLoad = false;\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.zoneId = select.value;\r\n\t\t\tvar data : GetCacheSettingsData = {\r\n\t\t\t\tzoneId: select.value\r\n\t\t\t}\r\n\t\t\tconst [ttlOptions, cacheSettings] = await Promise.all([\r\n\t\t\tV1Resource.browserTtlOptions(),\r\n\t\t\tV1Resource.getCacheSettings(data)\r\n\t\t\t]);\r\n\r\n\t\t\tthis.browserCacheTtlOptions = ttlOptions;\r\n\t\t\tthis.browserCacheTtlValue = cacheSettings.browserCacheTtl?.value !== undefined ? Number(cacheSettings.browserCacheTtl.value) : undefined;\r\n\t\t\tthis.browserCacheTtlUpdated = cacheSettings.browserCacheTtl?.modified_on\r\n\t\t\t\t? new Date(cacheSettings.browserCacheTtl.modified_on).toLocaleString()\r\n\t\t\t\t: undefined;\r\n\t\t\tthis.alwaysOnlineValue = cacheSettings.alwaysOnline?.value.toLowerCase() === \"on\" ? true : false;\r\n\t\t\tthis.alwaysOnlineUpdated = cacheSettings.alwaysOnline?.modified_on \r\n\t\t\t\t? new Date(cacheSettings.alwaysOnline.modified_on).toLocaleString() \r\n\t\t\t\t: undefined;\r\n\t\t\tthis.developerModeValue = cacheSettings.developmentMode?.value.toLowerCase() === \"on\" ? true : false;\r\n\t\t\tthis.developerModeUpdated = cacheSettings.developmentMode?.modified_on \r\n\t\t\t\t? new Date(cacheSettings.developmentMode.modified_on).toLocaleString() \r\n\t\t\t\t: undefined;\r\n\t\t\tthis.cachingLevelUpdated = cacheSettings.cacheLevel?.modified_on \r\n\t\t\t\t? new Date(cacheSettings.cacheLevel.modified_on).toLocaleString() \r\n\t\t\t\t: undefined;\r\n\t\t\tthis.cachingLevelValue = cacheSettings.cacheLevel?.value.toLowerCase();\r\n\t\t}\r\n\t\t} finally {\r\n\t\t\tthis.loading = false;\r\n\t\t}\r\n\t}\r\n\r\n\tconnectedCallback() {\r\n\t\tsuper.connectedCallback();\r\n\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tprivate async loadData() {\r\n\r\n\tconst zones = await V1Resource.getZones();\r\n\t\t\tthis.zones = zones?.map((zone: any) => ({\r\n\t\t\t\tname: zone.domain,\r\n\t\t\t\tvalue: zone.zoneId\r\n\t\t\t}));\r\n\t}\r\n\r\n    render() {\r\n        return html`\r\n\t\t<section id=\"umbhost-cloudflare-purdge-caching\">\r\n\t\t\t<uui-box class=\"introduction\" headline=${this.localize.term(\"umbhostCloudflarePurge_cachingtitle\")}>\r\n\t\t\t\t<p><umb-localize key=\"umbhostCloudflarePurge_cachingintroduction\"></umb-localize></p>\r\n\t\t\t\t\r\n\t\t\t\t\t<uui-label for=\"zone\">Select Domain: </uui-label>\r\n\t\t\t\t\t<uui-select id=\"zone\"\r\n\t\t\t\t\trequired=\"\" \r\n\t\t\t\t\t\tplaceholder=\"Select an option\"\r\n\t\t\t\t\t\t.options=${(this.zones ?? []) as any}\r\n\t\t\t\t\t\t@change=${this.#getZoneSettings}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</uui-select>\r\n\t\t\t</uui-box>  \r\n\r\n\t\t${this.firstLoad ? nothing : html`\r\n\t\t\t${this.loading ? html`<uui-loader-circle></uui-loader-circle>` : nothing}\r\n\r\n\t\t\t${this.loading ? nothing : html`\r\n\t\t\t<uui-box headline=${this.localize.term(\"umbhostCloudflarePurge_developermodetitle\")}>\r\n\t\t\t\t${this.developerModeLoading ? html`<uui-loader></uui-loader>` : nothing}\r\n\t\t\t\t${this.developerModeLoading ? nothing : html`\r\n\t\t\t\t<div class=\"description\">\r\n\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_developermodedescription\"></umb-localize>\r\n\t\t\t\t\t<p class=\"alert alert-warning\">\r\n\t\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_developermodewarning\"></umb-localize>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<umb-input-toggle showLabels @change=${this.#onDeveloperModeToggle} ?checked=${this.developerModeValue} labelOn=${this.localize.term(\"umbhostCloudflarePurge_developermodetoggleon\")} labelOff=${this.localize.term(\"umbhostCloudflarePurge_developermodetoggleoff\")}></umb-input-toggle>\r\n\t\t\t\t<div class=\"lastmodified\">\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_lastmodified\"></umb-localize>:\r\n\t\t\t\t\t\t</strong> \r\n\t\t\t\t\t\t${this.developerModeUpdated ? this.developerModeUpdated : nothing}\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t`}\r\n\t\t\t</uui-box>  \r\n\r\n\t\t\t<uui-box headline=${this.localize.term(\"umbhostCloudflarePurge_cachingleveltitle\")}>\r\n\t\t\t\t${this.cachingLevelLoading ? html`<uui-loader></uui-loader>` : nothing}\r\n\t\t\t\t${this.cachingLevelLoading ? nothing : html`\r\n\t\t\t\t<div class=\"description\">\r\n\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_cachingleveldescription\"></umb-localize>\r\n\t\t\t\t</div>\r\n\t\t\t\t<umb-input-radio-button-list .list=${this.cachingLevelOptions} .value=${this.cachingLevelValue ?? ''} @change=${this.#onCachingLevelToggle} ></umb-input-radio-button-list>\r\n\t\t\t\t<div class=\"lastmodified\">\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_lastmodified\"></umb-localize>:\r\n\t\t\t\t\t\t</strong> \r\n\t\t\t\t\t\t${this.cachingLevelUpdated ? this.cachingLevelUpdated : nothing}\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t`}\r\n\t\t\t</uui-box> \r\n\r\n\t\t\t<uui-box headline=${this.localize.term(\"umbhostCloudflarePurge_browsercachettltitle\")}>\r\n\t\t\t\t${this.browserCacheTtlLoading ? html`<uui-loader></uui-loader>` : nothing}\r\n\t\t\t\t${this.browserCacheTtlLoading ? nothing : html`\r\n\t\t\t\t\t<div class=\"description\">\r\n\t\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_browsercachettldescription\"></umb-localize>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<uui-select id=\"browserCacheTtl\" \r\n\t\t\t\t\t\tplaceholder=\"Select an option\" \r\n\t\t\t\t\t\t.options=${(this.browserCacheTtlOptions ?? []) as any}\r\n\t\t\t\t\t\t@change=${this.#onBrowserTtlSelect} >\r\n\t\t\t\t\t</uui-select>\r\n\t\t\t\t\t<div class=\"lastmodified\">\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_lastmodified\"></umb-localize>:\r\n\t\t\t\t\t\t\t</strong> \r\n\t\t\t\t\t\t\t${this.browserCacheTtlUpdated ? this.browserCacheTtlUpdated : nothing}\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t`}\r\n\t\t\t</uui-box>  \r\n\r\n\t\t\t\r\n\t\t\t<uui-box headline=${this.localize.term(\"umbhostCloudflarePurge_alwaysonlinetitle\")}>\r\n\t\t\t\t${this.alwaysOnlineLoading ? html`<uui-loader></uui-loader>` : nothing}\r\n\t\t\t\t${this.alwaysOnlineLoading ? nothing : html`\r\n\t\t\t\t<div class=\"description\">\r\n\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_alwaysonlinedescription\"></umb-localize>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"description\">\r\n\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_alwaysonlineterms\"></umb-localize>\r\n\t\t\t\t</div>\r\n\t\t\t\t<umb-input-toggle @change=${this.#onAlwaysOnlineToggle} ?checked=${this.alwaysOnlineValue}  showLabels labelOn=${this.localize.term(\"umbhostCloudflarePurge_alwaysonlinetoggleon\")} labelOff=${this.localize.term(\"umbhostCloudflarePurge_alwaysonlinetoggleoff\")}></umb-input-toggle>\r\n\t\t\t\t<div class=\"lastmodified\">\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t<umb-localize key=\"umbhostCloudflarePurge_lastmodified\"></umb-localize>:\r\n\t\t\t\t\t\t</strong> \r\n\t\t\t\t\t\t${this.alwaysOnlineUpdated ? this.alwaysOnlineUpdated : nothing}\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t`}\r\n\t\t\t</uui-box>`}\r\n\t\t`}\r\n\t\t</section>  \r\n    `\r\n    }\r\n\r\n\tstatic styles = css`\r\n\r\n\tuui-loader-circle {\r\n\t\tdisplay: block;\r\n\t\ttext-align: center;\r\n\t\tmargin: 0 auto;\r\n\t\tpadding-top: var(--uui-size-10);\r\n\t\tfont-size: 2em;\r\n\t}\r\n\r\n\t\t\tuui-box {\r\n\t\t\t\tp:first-child {\r\n\t\t\t\t\tmargin-top: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t#umbhost-cloudflare-purdge-caching {\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\tuui-box:not(:last-of-type) {\r\n\t\t\t\tmargin-bottom: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t.description:not(:has(.alert)) {\r\n\t\t\t\tpadding-bottom: var(--uui-size-6);\r\n\t\t\t}\r\n\r\n\t\t\t.lastmodified {\r\n\t\t\t\tpadding-top: var(--uui-size-3);\r\n\t\t\t}\r\n\r\n\t\t\t.alert {\r\n\t\t\t\tborder: 1px solid transparent;\r\n\t\t\t\tborder-radius: 0;\r\n\t\t\t\tmargin-bottom: 20px;\r\n\t\t\t\tpadding: 8px 35px 8px 14px;\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\t\t\t.alert-warning {\r\n\t\t\t\tbackground-color: #f0ac00;\r\n\t\t\t\tborder-color: transparent;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n  `\r\n}\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        'umbhost-cloudflare-purge-settings-caching': UmbHostCloudflarePurgeCachingViewElement\r\n    }\r\n}\r\n"],"names":["_UmbHostCloudflarePurgeCachingViewElement_instances","onBrowserTtlSelect_fn","onAlwaysOnlineToggle_fn","onDeveloperModeToggle_fn","onCachingLevelToggle_fn","getZoneSettings_fn","UmbHostCloudflarePurgeCachingViewElement","UmbElementMixin","LitElement","__privateAdd","changedProps","value","option","zones","V1Resource","zone","html","__privateMethod","nothing","event","select","selectedOption","_a","ToggleBrowserCacheTtlData","data","UmbChangeEvent","checked","ToggleAlwaysOnlineData","ToggleDevelopmentModeData","ToggleCachingLevelData","ttlOptions","cacheSettings","_b","_c","_d","_e","_f","_g","_h","css","__decorateClass","state","customElement"],"mappings":"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"}